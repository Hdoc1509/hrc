// Taken and adapted from https://loading.io/css/
@use "@scss/variables" as *;

$delta: -0.125;

.ring-spinner {
  --_size: #{$spinner-size};
  --_speed: #{$spinner-speed};

  display: inline-block;
  position: relative;
  width: var(--_size);
  aspect-ratio: 1;

  div {
    box-sizing: border-box;
    display: block;
    position: absolute;

    width: calc(var(--_size) * 0.8);
    aspect-ratio: 1;
    margin: calc(var(--_size) * 0.1);
    border: calc(var(--_size) * 0.1) solid;
    border-radius: 50%;
    border-color: $spinner-color transparent transparent transparent;

    animation: ring-spinner var(--_speed) cubic-bezier(0.5, 0, 0.5, 1) infinite;

    &:nth-child(1) {
      animation-delay: calc($delta * 3 * var(--_speed));
    }
    &:nth-child(2) {
      animation-delay: calc($delta * 2 * var(--_speed));
    }
    &:nth-child(3) {
      animation-delay: calc($delta * 1 * var(--_speed));
    }
  }
}

@keyframes ring-spinner {
  to {
    transform: rotate(360deg);
  }
}
