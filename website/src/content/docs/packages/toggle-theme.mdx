---
title: "@hrc/toggle-theme"
description: Package for toggle theme component of <hrc />
---

import { Code, Steps } from "@astrojs/starlight/components";
import { Demo, InstallCommand } from "@components";
import { PackageDemo } from "@demos/toggle-theme";
import demoCode from "@demos/toggle-theme/package.tsx?raw";
import stylesCode from "@demos/toggle-theme/styles.css?raw";
import pkg from "@hrc/toggle-theme/package.json";

<p>{pkg.description}</p>

<Demo>
  <PackageDemo client:only="react" />
</Demo>

> Demo generated with code from [Usage](#usage) section

- It saves the theme in `localStorage` with the key `theme`
- If there is no theme in `localStorage`, the default is the user's preferred
  theme

:::caution[It does not sync with theme button of website]
As this is an isolated component, it does not share its state with other
components.
:::

## Installation

<InstallCommand packages={["@hrc/toggle-theme"]} />

## Usage

<Steps>

1. Import `load-theme.js` in your `index.html`:

   ```html
   <script
     type="module"
     src="node_modules/@hrc/toggle-theme/dist/load-theme.js"
   ></script>
   ```

   If you are using [Astro](https://astro.build/), you can use `loadTheme` util
   in your layout:

   ```astro
   <script>
     import { loadTheme } from "@hrc/toggle-theme";

     loadTheme();
   </script>
   ```

2. Then use the component in your project:

   <Code code={demoCode} lang="jsx" />

3. Add your styles:

   ```css
   :root {
     --bg-color: #fff;
     --text-color: #17181c;
   }
   [data-theme="dark"] {
     --bg-color: #17181c;
     --text-color: #fff;
   }

   body {
     background-color: var(--bg-color);
     color: var(--text-color);
   }
   ```

</Steps>

:::caution
  As this is an Astro project, [this component](https://github.com/Hdoc1509/hrc/blob/master/website/src/components/ThemeSelect.astro)
  required to use a [`client directive`](https://docs.astro.build/en/reference/directives-reference/)
  in order to work and it can cause a minimal delay in its initial rendering.

  If you want to avoid the possibility of this delay, you can check out the
  following resources:
    - [Theme Toggle from Astro docs](https://docs.astro.build/en/tutorial/6-islands/2/)
    - [ThemeSelect from Starlight](https://starlight.astro.build/reference/overrides/#themeselect)
:::

## Demos

For examples and details on the usage of the component, see the demo page:

- [ThemeButton](/hrc/components/theme-button)

## API

See documentation below for reference to all of the props, classes and CSS
variables (custom properties) available for toggle theme component:

- [`<ThemeButton />`](/hrc/api/theme-button)
